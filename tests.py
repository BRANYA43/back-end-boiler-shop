import re


numbers = [
    '+38 (050) 123-45-67',
    '+38-050-123-45-67',
    '050-123-45-67',
    '38 (050) 123 45 67',
    '38-050-123 45 67',
    '050 123 45 67',
    '+38050-123-45-67',
    '+38(050)123-45-67',
    '38-050-123-45-67',
    '050-123-45-67',
    '38 (050) 123-4567',
    '+38 050 123-4567',
    '050 123-4567',
    '+38050 123-4567',
    '38 (050) 1223437',
    '+38-050-1234567',
    '050-1234567',
    '38(050)1234567',
]


def search_phone(phone):
    pattern = r'^\+?(38)?[\s\-]?\(?(?!38)(\d{3})\)?[\s\-]?(\d{3})[\s\-]?(\d{2})[\s\-]?(\d{2})$'

    if phone:
        if (match := re.match(pattern, phone)) is None:
            return 1
        phone = '+38 ({}) {} {}-{}'.format(*match.groups()[1:])
    return phone


for n in numbers:
    print(search_phone(n))
